<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/gocd/api.go.cd'>Edit this guide on GitHub</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>Welcome to the GoCD API! You can use our API to access GoCD API endpoints, which can get information about the server&rsquo;s configuration and build history. In addition it can be used to update configuration and execute builds.</p>

<p>We currently provide language bindings in Shell! You can view code examples on the right-hand side of the page.</p>

<p>All APIs SHOULD be accessed from <code class="prettyprint">https://go-server-url:8154/go/api</code>. All data SHOULD be sent and recieved as JSON, specifically <code class="prettyprint">application/vnd.go.cd.v1+json</code>. You may access the APIs over plain text, but for security reasons we suggest that you use SSL.</p>

<h2 id="current-version">Current version</h2>

<p>By default, all requests receive <strong>Version 1</strong> of the API. It is recommended to explicitly request this version via the <code class="prettyprint">Accept</code> header.</p>

<p><code class="prettyprint">Accept: application/vnd.go.cd.v1+json</code></p>

<p>If you specify an unsupported, Accept header, GoCD will respond with the current default JSON representation of the resource.</p>

<aside class="notice">
  <strong>Important:</strong> The default version of the API may change in the future. If you care about the stability of the API, make sure that you are requesting a specific version in the <code>Accept</code> header as shown in the example above.
</aside>

          <h1 id="authentication">Authentication</h1>

<p>All APIs require you to authenticate yourself using your username and password. A cookie will also be returned as a result of the first authentication call. You may use this cookie for any further authentication attempts. If authentication fails, Go may return status codes <code class="prettyprint">401</code>, <code class="prettyprint">403</code> or <code class="prettyprint">404</code>.</p>

<h2 id="basic-authentication">Basic authentication</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Make sure to replace the <code class="prettyprint">username</code> and <code class="prettyprint">password</code> with the username and password that you use to access the go server. The above command returns the following response:</p>
</blockquote>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=15kvus1kdrec46vk2a6jmtmo;Path=/go;Expires=Mon, 15-Jun-2015 10:16:20 GMT</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To use Basic Authentication with the GitHub API, simply send the username and password associated with the account.</p>

<h2 id="cookie-session-authentication">Cookie/Session authentication</h2>

<p>Using the cookie/session returned from the previous API call, one can make further API calls. Using a cookie will dramatically improve performance of API calls especially if go is authenticating against an external source like LDAP.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api'</span>
      -b <span class="s1">'JSESSIONID=15kvus1kdrec46vk2a6jmtmo'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response</p>
</blockquote>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=15kvus1kdrec46vk2a6jmtmo;Path=/go;Expires=Mon, 15-Jun-2015 10:16:20 GMT</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="agents">Agents</h1>

<p>The agents API allows users with administrator role to manage agents.</p>

<h2 id="the-agent-object">The agent object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>String</td>
<td>The identifier of this agent.</td>
</tr>
<tr>
<td>hostname</td>
<td>String</td>
<td>The hostname of the agent.</td>
</tr>
<tr>
<td>ip_address</td>
<td>String</td>
<td>The IP address of the agent.</td>
</tr>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td>Whether the agent is enabled or not.</td>
</tr>
<tr>
<td>sandbox</td>
<td>String</td>
<td>The path where the agent will perform its builds.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>The status of the agent. Can be one of <code class="prettyprint">Pending</code>, <code class="prettyprint">LostContact</code>, <code class="prettyprint">Missing</code>, <code class="prettyprint">Building</code>, <code class="prettyprint">Cancelled</code>, <code class="prettyprint">Idle</code>, <code class="prettyprint">Disabled</code>.</td>
</tr>
<tr>
<td>operating_system</td>
<td>String</td>
<td>The operating system as reported by the agent.</td>
</tr>
<tr>
<td>free_space</td>
<td>Integer</td>
<td>The amount of free space in bytes.</td>
</tr>
<tr>
<td>resources</td>
<td>Array</td>
<td>The set of resources that this agent is tagged with.</td>
</tr>
<tr>
<td>environments</td>
<td>Array</td>
<td>The set of environments that this agent belongs to.</td>
</tr>
</tbody></table>

<h2 id="get-all-agents">Get all agents</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent01.example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">84983328768</span><span class="p">,</span><span class="w">
        </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="w"> </span><span class="s2">"linux"</span><span class="p">,</span><span class="w"> </span><span class="s2">"firefox"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"perf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available agents, these are agents that are present in the <code class="prettyprint">&lt;agents/&gt;</code> tag inside <code class="prettyprint">cruise-config.xml</code> and also agents that are in <code class="prettyprint">Pending</code> state awaiting registration.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/agents</code></p>

<h3 id="returns">Returns</h3>

<p>An array of <a href="#the-agent-object">agent objects</a>.</p>

<h2 id="get-one-agent">Get one agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ketanpkr.corporate.thoughtworks.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">85890146304</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="w"> </span><span class="s2">"linux"</span><span class="p">,</span><span class="w"> </span><span class="s2">"firefox"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"perf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets an agent by its unique identifier (uuid)</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/agents/:uuid</code></p>

<h3 id="returns">Returns</h3>

<p>An <a href="#the-agent-object">agent object</a>.</p>

<h2 id="update-an-agent">Update an agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "hostname": "agent02.example.com"
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent02.example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">84834283520</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="s2">"linux"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of an agent.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /go/api/agents/:uuid</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hostname</td>
<td>String</td>
<td>The new hostname.</td>
</tr>
<tr>
<td>resources</td>
<td>String &#124; Array</td>
<td>A comma separated strings of resources, or an array of string resources.</td>
</tr>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td>Whether an agent should be enabled. In case of agents awaiting approval, setting this will approve the agents.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The updated <a href="#the-agent-object">agent object</a>.</p>

<h2 id="delete-an-agent">Delete an agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deleted 1 agent(s)."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes an agent.</p>

<aside class="notice">
You must first <a href='#update-an-agent'>disable an agent</a> and ensure that its
<a href='#get-one-agent'>status</a> is not <code>Building</code>, before attempting to deleting it.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /go/api/agents/:uuid</code></p>

<h3 id="returns">Returns</h3>

<p>A message confirmation if the agent was deleted.</p>

<h2 id="agent-job-run-history">Agent job run history</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da/job_run_history'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c5c318f-e6d3-4299-9120-7faff6e6030b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job_state_transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435631497131</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">539906</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435631497131</span><span class="p">,</span><span class="w">
      </span><span class="nt">"original_job_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">251</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"distributions-all"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100129</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload-installers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1292</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists the jobs that have executed on an agent.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/agents/:uuid/job_run_history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/agents/:uuid/job_run_history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of jobs to be skipped.
</aside>

<h3 id="returns">Returns</h3>

<p>An array of job objects along with the job transitions.</p>

          <h1 id="users">Users</h1>

<p>The users API allows users with administrator role to manage users.</p>

<h2 id="the-user-object">The user object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>login_name</td>
<td>String</td>
<td>The user&rsquo;s login name.</td>
</tr>
<tr>
<td>display_name</td>
<td>String</td>
<td>The user&rsquo;s display name.</td>
</tr>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td>Boolean indicating if the user is enabled (can login in).</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td>email_me</td>
<td>Boolean</td>
<td>Boolean indicating if the user has signed up for email notifications.</td>
</tr>
<tr>
<td>checkin_aliases</td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
</tbody></table>

<h2 id="get-all-users">Get all users</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#users"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#users"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/admin"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"johndoe"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available users.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/users</code></p>

<h3 id="returns">Returns</h3>

<p>An array of <a href="#the-user-object">user objects</a>.</p>

<h2 id="get-one-user">Get one user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets a user by its login name</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/user/:login_name</code></p>

<h3 id="returns">Returns</h3>

<p>A <a href="#the-user-object">user object</a>.</p>

<h2 id="update-a-user">Update a user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "email": "jdoe@example.com",
            "email_me": true,
            "checkin_aliases": ["jdoe", "johndoe"]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johndoe"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of a user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /go/api/users/:login_name</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enabled</td>
<td>Boolean</td>
<td>Boolean indicating if the user is enabled (can login in).</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td>email_me</td>
<td>Boolean</td>
<td>Boolean indicating if the user should be signed up for email notifications.</td>
</tr>
<tr>
<td>checkin_aliases</td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The updated <a href="#the-user-object">user object</a>.</p>

<h2 id="delete-a-user">Delete a user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User 'jdoe' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a user.</p>

<aside class="notice">
You must first <a href='#update-a-user'>disable a user</a> before deleting it.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /go/api/users/:login_name</code></p>

<h3 id="returns">Returns</h3>

<p>A message confirmation if the user was deleted.</p>

          <h1 id="materials">Materials</h1>

<p>The materials API allows users to query and notify materials in the Go configuration.</p>

<h2 id="the-material-object">The material object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>String</td>
<td>The description of the material.</td>
</tr>
<tr>
<td>fingerprint</td>
<td>String</td>
<td>The fingerprint of the material.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>The type of a material. Can be one of <code class="prettyprint">Git</code>, <code class="prettyprint">Mercurial</code>, <code class="prettyprint">Perforce</code>, <code class="prettyprint">Subversion</code>, <code class="prettyprint">Tfs</code>, <code class="prettyprint">Pipeline</code>, <code class="prettyprint">SCM</code>.</td>
</tr>
</tbody></table>

<h2 id="get-all-materials">Get all materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/materials'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03c8d2a131154436b6ef2d621c6f773837481aaea8c5c1bb9c0cb9b5bc64a2f1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Lists all available materials, these are materials that are present in the in <code class="prettyprint">cruise-config.xml</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/config/materials</code></p>

<h3 id="returns">Returns</h3>

<p>An array of <a href="#the-material-object">material objects</a>.</p>

<h2 id="get-material-modifications">Get material modifications</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/materials/03c8d2a131154436b6ef2d621c6f773837481aaea8c5c1bb9c0cb9b5bc64a2f1/modifications'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7225</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435728005000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a788f1876e2e1f6e5a1e91006e75cd1d467a0edb"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1070</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets an agent by its unique identifier (uuid)</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/materials/:fingerprint/modifications</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/materials/:fingerprint/modifications[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of jobs to be skipped.
</aside>

<h3 id="returns">Returns</h3>

<p>A list of modification objects.</p>

<h2 id="notify-svn-materials">Notify SVN materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/svn'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'uuid=svn-repository-uuid'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify Go Server when a commit has been made in Version Control and Go needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/api/material/notify/svn</code></p>

<p>The following post parameters must be specified.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>String</td>
<td>The subversion repository UUID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A text confirmation.</p>

<h3 id="notification-script">Notification script</h3>

<p>To notify Go via a SVN post commit hook, you may use the following post commit hook in your subversion repository.</p>

<p>The post commit hook is located at <code class="prettyprint">/path/to/repository/hooks/post-commit</code>.</p>

<pre class="highlight shell"><code><span class="c">#!/bin/sh</span>

<span class="nv">REPOS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nv">REV</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
<span class="nv">UUID</span><span class="o">=</span><span class="k">$(</span>svnlook uuid <span class="nv">$1</span><span class="k">)</span>

curl https://ci.example.com/go/api/material/notify/svn <span class="se">\</span>
    -d <span class="s2">"uuid=</span><span class="nv">$UUID</span><span class="s2">"</span> <span class="se">\</span>
    -u admin:password
</code></pre>

<h2 id="notify-git-materials">Notify git materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/git'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'url=git-repository-url'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify Go Server when a commit has been made in Version Control and Go needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/api/material/notify/git</code></p>

<p>The following post parameters must be specified.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repository_url</td>
<td>String</td>
<td>The git repository url as defined in <code class="prettyprint">cruise-config.xml</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A text confirmation.</p>

<h3 id="notification-script">Notification script</h3>

<p>To notify Go via a Git post commit hook, you may use the following post commit hook in your git repository.</p>

<p>The post commit hook is located at <code class="prettyprint">/path/to/repository.git/hooks/post-receive</code>.</p>

<pre class="highlight shell"><code><span class="c">#!/bin/sh</span>

curl https://ci.example.com/go/api/material/notify/svn <span class="se">\</span>
    -d <span class="s2">"repository_url=git://git.example.com/git/funky-widgets.git"</span> <span class="se">\</span>
    -u username:password
</code></pre>

          <h1 id="backups">Backups</h1>

<p>The backups API allows users with administrator role to manage go server backups.</p>

<h2 id="the-backup-object">The backup object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>time</td>
<td>DateTime</td>
<td>The time of the backup.</td>
</tr>
<tr>
<td>path</td>
<td>String</td>
<td>The filesystem location of the backup.</td>
</tr>
<tr>
<td>user</td>
<td>String</td>
<td>The <a href="#the-user-object">user</a> that performed this backup.</td>
</tr>
</tbody></table>

<h2 id="create-a-backup">Create a backup</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/backups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#backups"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-01T14:21:46.593+05:30"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/go-server/serverBackups/backup_20150701-142146"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.go.cd/#users"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/admin"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a server backup.</p>

<aside class="warning">
  The server may be unavailable during the time that the backup is being taken.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/api/backups</code></p>

<h3 id="returns">Returns</h3>

<p>A new <a href="#the-backup-object">backup object</a>.</p>

          <h1 id="pipeline-groups">Pipeline Groups</h1>

<p>The pipeline groups allows users to list pipeline groups along with the pipelines, stages and materials for each pipeline.</p>

<h2 id="config-listing">Config listing</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/pipeline_groups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d05446cd52a998fe3afd840fc2c46b7c7e421051f0209c7f619c95bedc28b88"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${COUNT}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This API is built primarily to support rendering of value stream mapping. As such the information rendered in the configuration is kept to a minimum.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/api/config/pipeline_groups</code></p>

<h3 id="returns">Returns</h3>

<p>A list of pipeline groups, pipelines in each group, stages and materials in each pipeline.</p>

          <h1 id="artifacts">Artifacts</h1>

<p>The artifacts API allows users to query and create artifacts of a job.</p>

<h2 id="the-artifact-object">The artifact object</h2>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The basename of the file/folder.</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td>The URL to the artifact.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>The type of the artifact. Can be one of <code class="prettyprint">file</code>, <code class="prettyprint">folder</code>.</td>
</tr>
<tr>
<td>files</td>
<td>Array</td>
<td>If the artifact is of type <code class="prettyprint">folder</code> then this property will contain files/folders inside this folder.</td>
</tr>
</tbody></table>

<h2 id="get-all-artifacts">Get all artifacts</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName.json'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cruise-output"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"folder"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"console.log"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output/console.log"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"md5.checksum"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output/md5.checksum"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available artifacts in a job.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name.json</code></p>

<h3 id="returns">Returns</h3>

<p>An array of <a href="#the-artifact-object">artifact objects</a>.</p>

<h2 id="get-artifact-file">Get artifact file</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/to/file'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the contents of the file you requested</p>
</blockquote>

<p>Gets an artifact file by its path.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<aside class="notice">
  The <code>path_to_file</code> can be a nested file for e.g. <code>dist/foobar-widgets-1.2.0.jar</code>
</aside>

<h3 id="returns">Returns</h3>

<p>An the contents of the requested file.</p>

<h2 id="get-artifact-directory">Get artifact directory</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/to/directory.zip'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the contents of the directory you requested as a compressed zip file.</p>
</blockquote>

<p>Gets an artifact directory by its path.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_directory.zip</code></p>

<aside class="notice">
  The <code>path_to_directory</code> can be a nested directory for e.g. <code>target/dist.zip</code>
</aside>

<aside class="warning">
  Since it may take an undetermined amount of time to compress a directory, the server <em>may</em> return a <code>202 Accepted</code> code to indicate that it is compressing the requested directory.
  <br/><br/>
  Users are expected to poll the url every few seconds to check if the directory is available.
</aside>

<h3 id="returns">Returns</h3>

<p>One of -</p>

<ul>
<li>A status code <code class="prettyprint">202 Accepted</code> to acknowledge your request to compress the contents of the requested directory.</li>
<li>The requested directory contents in the form of a zip file.</li>
</ul>

<h2 id="create-artifact">Create artifact</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/pkg/foobar-widgets-1.2.3.jar'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
      -X POST <span class="se">\</span>
      -F <span class="s1">'file=@target/dist/foobar-widgets-1.2.3.jar'</span>
</code></pre>

<blockquote>
<p>The above command uploads the file <code class="prettyprint">target/dist/foobar-widgets-1.2.3.jar</code> to the specified job at the remote path <code class="prettyprint">pkg/foobar-widgets-1.2.3.jar</code> and returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>

File pkg/foobar-widgets-1.2.3.jar was created successfully
</code></pre>

<p>Uploads a local file as an artifact.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<p>The following form parameter must be specified</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>String</td>
<td>The contents file to be uploaded as <code class="prettyprint">multipart/form-data</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An acknowledgement that the file was created.</p>

<h2 id="append-to-artifact">Append to artifact</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/logs/operations.log'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
      -T logs/production.log
</code></pre>

<blockquote>
<p>The above command appends the file <code class="prettyprint">logs/production.log</code> to the specified job at the remote path <code class="prettyprint">logs/operations.log</code> and returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>

File logs/operations.log was appended successfully
</code></pre>

<p>Appends a local file to an existing artifact.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<h3 id="returns">Returns</h3>

<p>An acknowledgement that the file was appended to.</p>

          <h1 id="pipelines">Pipelines</h1>

<p>The pipelines API allows users to view pipeline information and operate on it.</p>

<h2 id="get-pipeline-instance">Get pipeline instance</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/PipelineName/instance/1'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
             </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7225</span><span class="p">,</span><span class="w">
             </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435728005000</span><span class="p">,</span><span class="w">
             </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a788f1876e2e1f6e5a1e91006e75cd1d467a0edb"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e2da369d0207a7ef61f326eed837f964471b35072340a03f8f55d993afe01d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified by Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PipelineName"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jsunit"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1398332981981</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.1.0.1-b14a81825d081411993853ea5ea45266ced578b4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets pipeline instance object.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/pipelines/:pipeline_name/instance/:pipeline_counter</code></p>

<h3 id="returns">Returns</h3>

<p>A pipeline instance object.</p>

<h2 id="get-pipeline-history">Get pipeline history</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/history/0'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1434957613000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c194b49db102b705ebc13e604e490ae13ac92d96"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f6e7a3899c55e1682ffb00383bdf8f882bcee2141e79a8728254190a1fddcf4f"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forced by anonymous"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436172201081</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
          </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
      </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1434957613000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c194b49db102b705ebc13e604e490ae13ac92d96"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f6e7a3899c55e1682ffb00383bdf8f882bcee2141e79a8728254190a1fddcf4f"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forced by anonymous"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436172122024</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The pipeline history allows users to list pipeline instances. Supports pagination using offset which tells the API how many instances to skip.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/pipelines/:pipeline_name/history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/pipelines/:pipeline_name/history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of pipeline instances to be skipped.
</aside>

<h3 id="returns">Returns</h3>

<p>An array of pipeline instances.</p>

<h2 id="get-pipeline-status">Get pipeline status</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/status'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schedulable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The pipeline status allows users to check if the pipeline is paused, locked and schedulable.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/pipelines/:pipeline_name/status</code></p>

<h3 id="returns">Returns</h3>

<p>JSON containing information about pipeline state.</p>

<h2 id="pause-a-pipeline">Pause a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/pause'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -d <span class="s1">'pauseCause=take some rest'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html; charset=utf-8</span>
</code></pre>

<p>Pause the specified pipeline.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/pause</code></p>

<p>The following post parameters must be specified.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pauseCause</td>
<td>String</td>
<td>Reason for pausing the pipeline.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Nothing.</p>

<h2 id="unpause-a-pipeline">Unpause a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/pause'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>

</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html; charset=utf-8</span>
</code></pre>

<p>Unpause the specified pipeline.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/unpause</code></p>

<h3 id="returns">Returns</h3>

<p>Nothing.</p>

<h2 id="releasing-a-pipeline-lock">Releasing a pipeline lock</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/releaseLock'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
       -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html; charset=utf-8</span>
<span class="s">pipeline lock released for pipeline1</span>
</code></pre>

<p>The releasing a pipeline lock  allows user to release a lock on a pipeline so that you can start up a new instance without having to wait for the earlier instance to finish.
<aside class="notice">
 A pipeline lock can only be released when a pipeline is locked, AND there is no running instance of the pipeline.
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/pipelines/:pipeline_name/releaseLock</code></p>

<h3 id="returns">Returns</h3>

<p>A text confirmation.</p>

<h2 id="scheduling-pipelines">Scheduling pipelines</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/schedule'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
       -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html; charset=utf-8</span>
<span class="s">Request to schedule pipeline pipeline1 accepted</span>
</code></pre>

<p>Scheduling allows user to trigger a specific pipeline.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /go/pipelines/:pipeline_name/schedule</code></p>

<p>You may optionally submit specific materials information in order to schedule the pipeline with the specified set of materials.</p>

<table><thead>
<tr>
<th>Post Data</th>
<th>Desciption</th>
</tr>
</thead><tbody>
<tr>
<td>no parameter</td>
<td>Triggers a new instance of the specified pipeline with the latest revision of all materials.</td>
</tr>
<tr>
<td><code class="prettyprint">materials[svn_material]=3456</code></td>
<td>Triggers a new instance of the specified pipeline with revision <code class="prettyprint">3456</code> of the material whose <code class="prettyprint">materialName</code> attribute is <code class="prettyprint">svn_version</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">materials[repo-name:pkg-name]=gcc-4.4.7-3.el6.x86_64</code></td>
<td>Triggers a new instance of the specified pipeline with revision <code class="prettyprint">gcc-4.4.7-3.el6.x86_64</code> of the rpm package material.</td>
</tr>
<tr>
<td><code class="prettyprint">materials[svn_material]=3456&amp;materials[upstream_foo]=upstream_foo/2/dist/1</code></td>
<td>Triggers a new instance of the specified pipeline by specifying multiple materials.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A text confirmation.</p>

          <h1 id="properties">Properties</h1>

<p>The properties API allows managing of job properties</p>

<h2 id="get-all-job-properties">Get all job properties</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/PipelineName/541/StageName/1/JobName'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this:</p>
</blockquote>

<pre class="highlight shell"><code>    cruise_agent,                           myLocalAgent,
    cruise_job_duration,                    0,
    cruise_job_id,                          5,    
    cruise_job_result,                      Passed
    cruise_pipeline_counter,                1
    cruise_pipeline_label,                  1
    cruise_stage_counter,                   1    
    cruise_timestamp_01_scheduled,          2015-07-06T18:20:55+05:30,
    cruise_timestamp_02_assigned,           2015-07-06T18:20:55+05:30,
    cruise_timestamp_03_preparing,          2015-07-06T18:20:55+05:30,
    cruise_timestamp_04_building,           2015-07-06T18:20:55+05:30,
    cruise_timestamp_05_completing,         2015-07-06T18:20:55+05:30,
    cruise_timestamp_06_completed           2015-07-06T18:20:55+05:30
</code></pre>

<p>Lists all job properties</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/properties/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name</code></p>

<aside class="notice">
  <strong>Note:</strong> 
  You can use keyword &lsquo;latest&rsquo; as a pipeline counter or a stage counter.</p>
</aside>

<h3 id="returns">Returns</h3>

<p>CSV list containing property names and their corresponding value. </p>

<h2 id="get-one-property">Get one property</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/PipelineName/541/StageName/1/JobName'</span>/cruise_agent <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this:</p>
</blockquote>

<p>Gets a property by its name</p>

<pre class="highlight shell"><code>cruise_agent
myLocalAgent
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/properties/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/:property_name</code></p>

<aside class="notice">
  <strong>Note:</strong> 
  You can use keyword &lsquo;latest&rsquo; as a pipeline counter or a stage counter.</p>
</aside>

<h3 id="returns">Returns</h3>

<p>Property name and its value.</p>

<h2 id="get-historical-properties">Get historical properties</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/search?pipelineName=PipelineName&amp;stageName=StageName&amp;jobName=JobName&amp;limitPipeline=latest&amp;limitCount=2'</span> <span class="se">\</span>
        -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this:</p>
</blockquote>

<pre class="highlight shell"><code>cruise_agent,cruise_job_duration,cruise_job_id,cruise_job_result,cruise_pipeline_counter,cruise_pipeline_label,cruise_stage_counter,cruise_timestamp_01_scheduled,cruise_timestamp_02_assigned,cruise_timestamp_03_preparing,cruise_timestamp_04_building,cruise_timestamp_05_completing,cruise_timestamp_06_completed

myLocalAgent,0,13,Passed,8,4f9e580347b2e259fe030a775771359cdc984346,1,2015-07-07T09:44:27+05:30,2015-07-07T09:44:34+05:30,2015-07-07T09:44:44+05:30,2015-07-07T09:44:46+05:30,2015-07-07T09:44:46+05:30,2015-07-07T09:44:46+05:30

myLocalAgent,0,14,Passed,9,4f9e580347b2e259fe030a775771359cdc984346,1,2015-07-07T10:17:37+05:30,2015-07-07T10:17:45+05:30,2015-07-07T10:17:55+05:30,2015-07-07T10:17:56+05:30,2015-07-07T10:17:56+05:30,2015-07-07T10:17:56+05:30
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /go/properties/search?pipelineName=[PipelineName]&amp;stageName=[StageName]&amp;jobName=[JobName]&amp;limitPipeline=[PipelineCounter]&amp;limitCount=[Number]</code></p>

<aside class="notice">
  <strong>Note:</strong> 
  <code>limitPipeline</code> and <code>limitCount</code> are optional parameters. The default value of limitPipeline is latest pipeline instance and limitCount is 100.
</aside>

<h3 id="returns">Returns</h3>

<p>Job properties as CSV </p>

          <h1 id="errors">Errors</h1>

<p>Go CD uses the following HTTP status codes to indicate errors.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request           &ndash; The request could not be understood. The client SHOULD NOT repeat the request without modifications.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized          &ndash; Your username or password is incorrect or you are not authorized to perform this action.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden             &ndash; The resource requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found             &ndash; The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed    &ndash; You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable        &ndash; You requested a format that isn&rsquo;t json.</td>
</tr>
<tr>
<td>409</td>
<td>Conflict              &ndash; The request could not be completed due to a conflict with the current state of the resource.</td>
</tr>
<tr>
<td>410</td>
<td>Gone                  &ndash; The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessible Entity  &ndash; The server understood the request, but the request is semantically erroneous.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>501</td>
<td>Not implemented       &ndash; The server does not support the functionality required to fulfill the request.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable   &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
